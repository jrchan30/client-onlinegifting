(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{477:function(t,e,n){"use strict";n.r(e);n(62),n(25),n(26),n(14),n(53),n(18);var r=n(27),c=(n(12),n(4)),o=n(38),l=n(74),d=n(287);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={layout:"admin",middleware:["auth","admin-only"],fetch:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.GET_CATEGORIES();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{fields:{name:{class:"col-md-6",placeholder:"Product name",icon:"fas fa-signature",appendable:!1,type:"text",value:""},price:{placeholder:"Price",class:"col-md-6",icon:"fas fa-credit-card",appendable:!0,appendable_value:"IDR",type:"number",value:0},weight:{class:"col-md-6",placeholder:"Weight",icon:"fas fa-weight-hanging",appendable:!0,appendable_value:"gr",type:"number",value:100},stock:{class:"col-md-6",placeholder:"Stock",icon:"fas fa-cubes",appendable:!1,type:"number",value:0}},images:[],categories:[],editor:null,description:"",loading:!1}},computed:f({},Object(o.c)({CATEGORIES:"categories/CATEGORIES"})),beforeDestroy:function(){this.editor&&this.editor.destroy()},beforeMount:function(){var t=this;this.editor=new l.a({content:"<p>Product description goes here!</p>",extensions:[new d.b,new d.f,new d.g,new d.e,new d.a,new d.d,new d.h,new d.i,new d.c],onUpdate:function(e){var n=e.getJSON,r=e.getHTML;t.json=n(),t.html=r(),t.description=t.html}})},methods:f(f({},Object(o.b)({GET_CATEGORIES:"categories/GET_CATEGORIES"})),{},{closeForm:function(){Object.assign(this.$data,this.$options.data())},onChange:function(t){var e=this.$refs.pictureInput[t].file;e?this.images[t]=e:console.log("Old browser. No support for Filereader API")},addImage:function(){this.images.push({id:null,path:"",url:""})},submit:function(){var t=this;this.$swal({title:"Are you sure?",text:"Please recheck before inserting",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, insert it!"}).then(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(n){var form,r,c,o,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=20;break}for(c in t.loading=!0,form={name:t.fields.name.value,description:t.description,price:t.fields.price.value,stock:t.fields.stock.value,weight:t.fields.weight.value},r=new FormData,form)r.append(c,form[c]);for(o in t.categories)r.append("categories[]",t.categories[o]);for(l in t.images)r.append("images[]",t.images[l]);return e.prev=7,e.next=10,t.$axios.$post("/products",r);case 10:t.$swal("Inserted!","Product has been inserted.","success"),t.closeForm(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),t.$swal({icon:"error",title:"Oops...",text:null===(d=e.t0.response.data)||void 0===d?void 0:d.message});case 17:return e.prev=17,t.loading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[7,14,17,20]])})));return function(t){return e.apply(this,arguments)}}())}})},h=n(8),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)},keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"card-wrapper"},[n("div",{staticClass:"card"},[t._m(0),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[t._l(t.fields,(function(e,r){return n("div",{key:r,class:e.class},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-group input-group-merge"},[n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text"},[n("i",{class:e.icon})])]),t._v(" "),"checkbox"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"}],staticClass:"form-control",attrs:{placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?t._i(e.value,null)>-1:e.value},on:{change:function(n){var r=e.value,c=n.target,o=!!c.checked;if(Array.isArray(r)){var l=t._i(r,null);c.checked?l<0&&t.$set(e,"value",r.concat([null])):l>-1&&t.$set(e,"value",r.slice(0,l).concat(r.slice(l+1)))}else t.$set(e,"value",o)}}}):"radio"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"}],staticClass:"form-control",attrs:{placeholder:e.placeholder,type:"radio"},domProps:{checked:t._q(e.value,null)},on:{change:function(n){return t.$set(e,"value",null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"}],staticClass:"form-control",attrs:{placeholder:e.placeholder,type:e.type},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}),t._v(" "),e.appendable?[n("div",{staticClass:"input-group-append"},[n("span",{staticClass:"input-group-text"},[n("small",{staticClass:"font-weight-bold"},[t._v(t._s(e.appendable_value))])])])]:t._e()],2)])])})),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"card-body"},[n("v-select",{staticStyle:{},attrs:{multiple:"",label:"name",required:"",reduce:function(t){return t.id},options:t.CATEGORIES},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})],1)],2)])])])]),t._v(" "),n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"card-wrapper"},[n("div",{staticClass:"card"},[t._m(2),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},t._l(t.images,(function(image,e){return n("div",{key:e,staticClass:"col-6 col-md-4 mt-2"},[n("picture-input",{ref:"pictureInput",refInFor:!0,attrs:{width:"130",height:"130",size:"10",margin:"16","z-index":10,"button-class":"btn mb-0 mt-1","remove-button-class":"btn my-0",radius:"5",removable:!0,"custom-strings":{upload:"<h1>Bummer!</h1>",drag:"Drag an image",remove:"Remove",change:"Change"}},on:{change:function(n){return t.onChange(e)}}})],1)})),0),t._v(" "),n("button",{staticClass:"btn btn-primary btn-lg btn-block mt-3",attrs:{type:"button"},on:{click:t.addImage}},[t._v("\n                Add Image\n              ")])])])])]),t._v(" "),n("div",{staticClass:"col-lg-12"},[n("div",{staticClass:"card-wrapper"},[n("div",{staticClass:"card"},[t._m(3),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.commands,c=e.isActive;return[n("div",[n("button",{staticClass:"btn px-1 py-0",class:{"is-active":c.bold()},attrs:{type:"button"},on:{click:r.bold}},[n("i",{staticClass:"fas fa-bold"})]),t._v(" "),n("button",{staticClass:"btn px-1 py-0",class:{"is-active":c.italic()},attrs:{type:"button"},on:{click:r.italic}},[n("i",{staticClass:"fas fa-italic"})]),t._v(" "),n("button",{staticClass:"btn px-1 py-0",class:{"is-active":c.strike()},attrs:{type:"button"},on:{click:r.strike}},[n("i",{staticClass:"fas fa-strikethrough"})]),t._v(" "),n("button",{staticClass:"btn px-1 py-0",class:{"is-active":c.underline()},on:{click:r.underline}},[n("i",{staticClass:"fas fa-underline"})]),t._v(" "),n("button",{staticClass:"btn px-1 py-0",class:{"is-active":c.bullet_list()},attrs:{type:"button"},on:{click:r.bullet_list}},[n("i",{staticClass:"fas fa-list-ul"})]),t._v(" "),n("button",{staticClass:"btn px-1 py-0",class:{"is-active":c.ordered_list()},attrs:{type:"button"},on:{click:r.ordered_list}},[n("i",{staticClass:"fas fa-list-ol"})]),t._v(" "),n("button",{staticClass:"btn px-1 py-0",attrs:{type:"button"},on:{click:r.undo}},[n("i",{staticClass:"fas fa-undo-alt"})]),t._v(" "),n("button",{staticClass:"btn px-1 py-0",attrs:{type:"button"},on:{click:r.redo}},[n("i",{staticClass:"fas fa-redo"})])])]}}])}),t._v(" "),n("div",{staticClass:"border-danger p-2"},[n("editor-content",{staticClass:"editor__content border-1",attrs:{editor:t.editor}}),t._v(" "),n("input",{attrs:{type:"hidden",name:"content"},domProps:{value:t.editor}})],1)],1)])])])])]),t._v(" "),n("button",{staticClass:"btn btn-info btn-lg btn-block",attrs:{type:"submit",disabled:t.loading}},[t.loading?n("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n        Submit\n      ")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h3",{staticClass:"mb-0"},[this._v("Input product")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header col-12"},[e("h3",{staticClass:"mb-0"},[this._v("Categories")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h3",{staticClass:"mb-0"},[this._v("Images")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h3",{staticClass:"mb-0"},[this._v("Product Description")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Form:n(105).default})}}]);